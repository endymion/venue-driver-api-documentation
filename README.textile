h1. Venue Driver API Documentation

h2. REST API

Venue Driver provides a simple HTTP API that's built according to a REST design pattern.  That just means that each of our resources like "Events" has a URL that you can call, and each resource has 'index', 'create', 'read', 'update' and 'delete' actions.  You tell it whether you want your data in XML or JSON.  In some cases we also provide HTML representations so that you don't even have to process raw data.

h3. Resources

Venue Driver provides easy XML or JSON access to Reservation and Guest (for Guestlist) resources:



h2. Convenience methods

Venue Driver provides an API method that will return HTML code for an event select box, to be inserted
directly into a web page.  For example, to get a drop-down select box for all upcoming events at the venue with Venue Driver ID code 129582, you might call a URL like this:

	@http://venuedriver.com/api/venues/129582/events/select_tag.html?username=venuesite&password=password@

You can test from the command line using the cURL utility:

  @curl 'http://venuedriver.com/api/venues/129582/events/select_tag.html?username=venuesite&password=password'@

It will return something like this:

@<select id="event" name="event"><option value="3768">Cabaret of Dr. Calagari - Apr 16</option>
<option value="3769">Latin Night and Tequila Party - Apr 17</option>
<option value="3859">Visionshock - International District Spring Roll Party - Apr 24</option>
<option value="3860">Sounders Latin Preparty - Apr 25</option>
<option value="3832">Glamour - May 01</option></select>@

Using that resource URL is pretty simple.  In Ruby for example it looks like this:

	@url = "http://venuedriver/api/venues/129582/events/select_tag.html?username=venuesite&password=password"
	events_html = Net::HTTP.get_response(URI.parse(url))@

Then you can just drop that HTML snippet into your form with @<%= events_html %>@ or the equivalent in PHP or whatever.  That gives you a simple way to build a form that can request guest list signup for any upcoming event.

When somebody submits the form, creating the guest list entry is similarly simple.  It also involves a simple HTTP query to an API URL.  Are you using PHP?  I can send you an example snippet for doing the post if so.

h2. Examples

h3. PHP

These examples show how to build reservation and guest list forms with PHP.  These examples use a "PHP library":http://code.google.com/p/phpactiveresource/ for accessing our REST resources.

Here are the example files:

"Example PHP reservation form":http://github.com/endymion/venue-driver-api-documentation/raw/master/examples/php/ReservationForm.php
"Example PHP guest list form":http://github.com/endymion/venue-driver-api-documentation/raw/master/examples/php/GuestListForm.php
"Venue Driver API configuration file":http://github.com/endymion/venue-driver-api-documentation/raw/master/examples/php/VenueDriver.php
"ActiveResource REST API for PHP":http://github.com/endymion/venue-driver-api-documentation/raw/master/examples/php/ActiveResource.php